<form [formGroup]="form" (ngSubmit)="onSubmit()" class="user-form">
  <div class="form-row">
    <div class="form-group">
      <label>Nom *</label>
      <input formControlName="nom" type="text" class="form-control" [class.invalid]="form.get('nom')?.invalid && form.get('nom')?.touched">
      <div class="error" *ngIf="form.get('nom')?.invalid && form.get('nom')?.touched">Nom requis</div>
    </div>
    <div class="form-group">
      <label>Prénom *</label>
      <input formControlName="prenom" type="text" class="form-control" [class.invalid]="form.get('prenom')?.invalid && form.get('prenom')?.touched">
      <div class="error" *ngIf="form.get('prenom')?.invalid && form.get('prenom')?.touched">Prénom requis</div>
    </div>
  </div>
  <div class="form-row">
    <div class="form-group">
      <label>Email *</label>
      <input formControlName="email" type="email" class="form-control" [class.invalid]="form.get('email')?.invalid && form.get('email')?.touched">
      <div class="error" *ngIf="form.get('email')?.invalid && form.get('email')?.touched">Email valide requis</div>
    </div>
    <div class="form-group" *ngIf="mode === 'create'">
      <label>Mot de passe *</label>
      <input formControlName="motDePasse" type="password" class="form-control" [class.invalid]="form.get('motDePasse')?.invalid && form.get('motDePasse')?.touched">
      <div class="error" *ngIf="form.get('motDePasse')?.invalid && form.get('motDePasse')?.touched">
        <span *ngIf="form.get('motDePasse')?.errors?.['required']">Mot de passe requis</span>
        <span *ngIf="form.get('motDePasse')?.errors?.['minlength']">Le mot de passe doit contenir au moins 6 caractères</span>
      </div>
    </div>
  </div>
  <div class="form-row">
    <div class="form-group">
      <label>Téléphone</label>
      <input formControlName="telephone" type="tel" class="form-control">
    </div>
    <div class="form-group">
      <label>Ville</label>
      <input formControlName="ville" type="text" class="form-control">
    </div>
  </div>
  <div class="form-row">
    <div class="form-group">
      <label>Code postal</label>
      <input formControlName="codePostal" type="text" class="form-control">
    </div>
    <div class="form-group">
      <label>Statut</label>
      <div class="checkbox-group">
        <input formControlName="estActif" type="checkbox" id="estActif">
        <label for="estActif">Utilisateur actif</label>
      </div>
    </div>
  </div>
  <div class="form-row">
    <div class="form-group">
      <label>Rôle *</label>
      <select formControlName="role" class="form-control">
        <option value="User">Utilisateur</option>
        <option value="Prestataire">Prestataire</option>
        <option value="Admin">Administrateur</option>
      </select>
    </div>
  </div>
  <div class="form-actions">
    <button type="submit" class="btn btn-primary" [disabled]="form.invalid">{{ mode === 'edit' ? 'Enregistrer' : 'Ajouter' }}</button>
    <button type="button" class="btn btn-secondary" (click)="onCancel()">Annuler</button>
  </div>
</form> 